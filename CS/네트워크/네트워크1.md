**책 모두의 네트워크 10일만에 배우는 네트워크 기초(길벗)를 참고로 공부하고 정리한 내용입니다.**

# 네트워크 1

---

- 네트워크

  - 서로 연결되어있는 것들

- 컴퓨터 네트워크

  - 컴퓨터가 두 대 이상 연결되어 있는 것
  - 컴퓨터 네트워크를 통해 컴퓨터간 데이터 송수신을 할 수 있음

- 인터넷

  - 전 세계의 네트워크를 연결하는 거대한 네트워크

- 패킷

  - 네트워크를 통해 전송되는 작은 데이터 조각

  - 데이터를 전송할 때 패킷을 사용하는 것이 규칙

  - 크기가 큰 데이터를 보내면 대역폭을 많이 차지해서 다른 패킷의 흐름을 막을 수 있음

    >*대역폭: 정보를 전송할 수 있는 단위 시간당 전송량*

  - 패킷에는 순서가 정해져있다. 하지만 순서대로 수신되지는 않으며 수신받은 후 원래 순서대로 나열하여 정보를 보여준다.

- 비트

  - 정보를 나타내는 최소 단위(0, 1)
  - 8비트가 모이면 **1 바이트**가 됨

- 랜(LAN)

  - 특정 지역을 범위로하는 네트워크
  - 건물 안과 같은 제한된 장소에서 연결할 수 있는 네트워크
  - 연결 범위가 짧음(좁음) 따라서 신호가 약해지거나 오류가 발생활 확률이 낮고 속도도 빠름
  - 유선과 무선으로 나뉨

- 왠(WAN)

  - 지리적으로 넓은 범위에 구축된 네트워크

  - 광역 통신망

  - ISP(Internet Service Provider)가 제공하는 서비스를 사용하여 구축된 네트워크

    > *ISP는 KT, SK, U+ 등...*

  - 연결 범위가 넓음 따라서 신호가 약해지거나 오류가 발생할 확률이 높고 속도도 느림

- 가정에서의 네트워크 구성

  - 가정은 지리적으로 한정된 공간이므로 랜을 사용(가정 내 컴퓨터들끼리의 네트워크)
  - ISP와 인터넷 회선(예: 광랜)을 결정하여 인터넷 연결(인터넷 계약 맺는 것)
  - 공유기(broadband router)를 통해 왠으로 인터넷을 연결하고 이를 가정 컴퓨터와 연결

- 소규모 회사(소호기업 Small Office / Home Office)에서의 네트워크 구성

  - DMZ(DeMilitarized Zone, 외부에 공개하기 위한 네트워크)를 둠

    >*외부에 공개하는 것은 서버(메일서버, 웹서버, DNS 서버 등)*

  - 서버는 사내(서버 장비실), 데이터 센터(전용 시설), 클라우드(인터넷을 통해 컴퓨팅 서비스를 제공하는 것, 하드웨어, 소프트웨어 모두 가능)에 둘 수 있음

    >*사내, 데이터 센터에두고 운영하는 것은 **온프레미스**라고 함*, 클라우드와 비교되는 단어

  - 각 컴퓨터들, 서버는 스위치, 무선랜 등을 사용해 사내 랜에 접속

    >*서버: 다른 컴퓨터에 서비스를 제공하기 위한 컴퓨터 혹은 프로그램*

- 프로토콜
  - 네트워크 통신을 하기 위한 규칙
- OSI 모델
  - ISO(International Organization for Standardization, 국제 표준화 기구)에서 제정한 통신 표준 규격

| 계층  |                          이름                          |                             설명                             |
| :---: | :----------------------------------------------------: | :----------------------------------------------------------: |
| 7계층 | 응용 계층<br />(Application Layer, 애플리케이션 계층)  | 이메일, 파일 전송, 웹 사이트 조회 등 애플리케이션에 대한 서비스 제공 |
| 6계층 | 표현 계층<br />(Presentation Layer, 프레젠테이션 계층) |           문자코드, 압축, 암호화 등의 데이텨 변환            |
| 5계층 |            세션 계층<br />(Sesseion Layer)             |                  세션 체결, 통신 방식 결정                   |
| 4계층 |   전송 계층<br />(Transport Layer, 트랜스포트 계층)    |                   신뢰할 수 있는 통신 구현                   |
| 3계층 |           네트워크 계층<br />(Network Layer)           |  다른 네트워크와 통신하기 위한 경로 설정 및 논리 주소 결정   |
| 2계층 |        데이터 링크 계층<br />(Data Link Layer)         |       네트워크 기기 간의 데이터 전송 및 물리 주소 결정       |
| 1계층 |               물리 계층(Phisical Layer)                |      시스템 간의 물리적인 연결과 전기 신호 변환 및 제어      |

- 위의 7계층(레이어)이 존재
  - 송신은 상위 계층에서 하위 계층으로, 수신은 하위 계층에서 상위 계층으로 데이터를 전달하고 받음
- TCP / IP 모델
  - 4계층으로 이뤄짐
  - 4계층: 응용 계층 / 3계층: 전송 계층 / 2계층 인터넷 계층 / 1계층: 네트워크 접속 계층

|            계층             |        이름        |
| :-------------------------: | :----------------: |
| 4계층(== OSI의 5, 6, 7계층) |     응용 계층      |
|    3계층(== OSI의 4계층)    |     전송 계층      |
|    2계층(== OSI의 3계층)    |    인터넷 계층     |
|  1계층(== OSI의 1, 2계층)   | 네트워크 접속 계층 |

- 캡슐화 & 역캡슐화

  - 데이터를 전송할 때는 보내는 데이터에 전송하는 데 필요한 데이터(헤더, 전달받을 대상에 대한 정보 포함)를 붙여서 전송해야 함

  - 이렇게 헤더를 붙여서 전송하는 것을 캡슐화, 헤더를 제거하는 것을 역캡슐화라 함

  - OSI계층을 예로 들면 5, 6, 7계층인 응용 계층에서 데이터가 만들어지고 4, 3, 2 계층에서 헤더가 하나씩 붙음, 2계층에서는 트레일러도 붙음, 물리 계층인 1계층에서 전기신호로 이를 전송(헤더는 왼쪽, 트레일러는 오른쪽 이런 식으로 양쪽에 붙음)

    > *트레일러: 데이터의 마지막에 추가하는 정보*

  - 역캡슐화 할 때도 캡슐화 할 때 헤더와 트레일러가 붙은 것처럼 같은 계층에서 헤더 및 트레일러가 제거됨

  - 각 계층의 헤더는 서로 다른 헤더임(4계층은 전송 계층 헤더, 3계층은 네트워크 계층 헤더 이런 식)

>*VPN(Virtual Private Network, 가상 사설망): 가상 통신 터널로 기업 본사, 지사 등 거전 간 연결 혹은 외부에서 인터넷으로 사내에 접속하는 것* 
>
>*인터넷 VPN*
>
>- *거점 간 접속: IPsec이라는 암호 기술 프로토콜을 사용하여 접속*
>- *원격 접속: 외부 컴퓨터와 사내 네트워크를 연결하기 때문에 암호화된 통신로를 만듦*
>- 둘 다 일반 인터넷망을 사용
>
>*IP-VPN*
>
>- MPLS라는 기술을 사용하여 인터넷망이 아닌 통신 사업자 전용 폐쇄망 사용 
>- 제 3자에 의한 해킹이나 데이터 변조의 위험이 없음
>- 따라서 암호화 기능 불필요

---



## 물리 계층

- 데이터 전송을 위해 시스템 간 물리적 연결, 전기 신호를 변환하고 제어하는 역할 + 전송 매체를 통해 데이터를 전기적 신호(통신 가능한 신호)로 바꾸어 전송하는 역할
- 비트열(0, 1로 이루어짐)을 전기 신호로 변환하려면 물리계층이 필요
- 전기신호
  - 아날로그 신호: 전화 회선, 라디오 방송 등에 사용됨
  - 디지털 신호
- **랜 카드(LAN card, 네트워크 인터페이스 컨트롤러(NIC)로도 불림)**를 통해 비트열을 전기 신호로 변환
  - 메인보드에 포함된 내장형 랜 카드(메인보드에 랜 카드 기능이 탑재된 것) 또는 별도의 랜 카드가 있음
- 컴퓨터와 네트워크 장비를 연결, 컴퓨터와 네트워크 장비 간 전송되는 데이터를 전기 신호로 변환하는 계층이 물리계층

### 전송 매체

- 데이터가 흐르는 물리적인 선로
- 유선: 트위스트 페어 케이블, 광 케이블 등
- 무선: 라디오파, 마이크로파, 적외선 등

**트위스트 페어 케이블(랜 케이블이라는 말을 더 많이 사용함)**

- 두 종류로 나뉘며 실드로 보호되어있는지 아닌지가 기준

  > 실드: 금속 호일이나 금속 매듭 같은 것
  >
  > 노이즈: 케이블에 전기 신호가 흐를 때 발생. 이를 줄이기 위해 구리 선을 꼬아서 전선을 만듦. 노이즈가 발생하면 신호가 왜곡됨

- 케이블의 양쪽 끝에 RJ-45 커넥터가 있음

- UTP 케이블

  - 구리선 여덟 개를 두 개씩 꼬아 네 쌍의 전선을 만든 것. 실드로 보호되어있지 않음
  - 보호되지 않아 노이즈의 영향을 받기 쉬움
  - 저렴해서 많이 사용됨
  - 규격과 속도에 따라 6가지로 나뉨(Cat3, Cat5, Cat5e, Cat6, Cat6a, Cat7)

- STP 케이블: 실드로 보호된 케이블(두 개씩 꼰 네 쌍의 전선)

  - 노이즈의 영향을 매우 적게 받음
  - 비싸서 많이 사용되지는 않음

- 선의 연결에 따라 둘로 나눌 수 있음(둘 모두 1, 2, 3, 6번 선이 송수신에 사용됨, 나머지 선은 사용하지 않음(나머지 선들은 그냥 예비용으로 놔두는데 기가인터넷 등 빠른 속도로 연결할 때는 8개를 모두 사용함), MDI, MDIX에 대해 더 찾아보면 좋을 듯)

  - 다이렉트 케이블
    - 구리 선 여덟 개를 같은 순서로 커넥터에 연결한 케이블
    - 한 쪽에서는 1, 2번으로 송신, 3, 6번으로 수신하며 반대쪽에서는 1, 2번으로 수신, 3, 6번으로 송신함
    - PC와 스위치 등 서로 다른 장비를 연결할 때 사용
  - 크로스 케이블
    - 1, 2번을 반대쪽의 3, 6번과 연결되록 한 케이블
    - 양 쪽 모두에서 1, 2번은 수신, 3, 6번은 송신함
    - PC와 PC 등 같은 장비를 연결할 때 사용

### 리피터와 허브

**리피터**

- 전기 신호를 원래대로 복원하고 증폭하는 기능을 가진 네트워크 중계 장비
- 통신 거리가 멀면 전기 신호가 약해지고 일그러지기 때문에 리피터를 두어 신호를 복원하고 증폭하여 목적지에 잘 도착할 수 있도록 함
- 최근에는 다른 네트워크 장비에 리피터 기능이 있어서 거의 사용되지 않음

**허브(리피터 허브)**

- 포트(실제 통신하는 통로)를 여러 개 가짐
- 컴퓨터 여러 대와 통신 가능
- 전기 신호를 정형하고 증폭하는 기능(리피터와 동일한 기능) + 여러 컴퓨터를 서로 연결
- 허브는 한 포트에서 전기 신호를 받으면 허브에 연결된 다른 모든 장치로(컴퓨터) 신호를 전송함. 그래서 더미 허브(dummy hub)라 불리기도 함
- 이러한 단점을 보완하기 위해 나온 것이 **스위치**(연결된 모든 장치가 아니라 내가 원하는 곳에만 신호를 보낼 수 있도록 함)

[참고] MDI, MDI-X

- 서로 다른 것을 연결할 때(MDI와 MDI-X)는 다이렉트 케이블, 같은 것을 연결할 때는 크로스 케이블 사용
- 요즘에는 이 차이를 자동으로 판단해 신호를 전환하는 기능을 가진 스위치나 허브를 많이 사용



## 데이터 링크 계층

- 랜에서 데이터를 주고받기 위해 필요
- 네트워크 장비 간 신호를 주고받는 규칙을 정하는 계층

### 이더넷

- 랜에서 적용되는 규칙

- 허브 등의 장비에 연결된 컴퓨터와 데이터를 주고 받을 때 사용

- 데이터를 보낼 때 목적지 정보를 포함하여 보내어 목적지가 아닌 다른 컴퓨터들은 데이터를 받아도 이를 무시함(허브는 수신한 데이터를 모든 컴퓨터에게 보내는데 이더넷 규칙으로 인해 포함된 목적지 정보 외의 다른 컴퓨터들은 받아도 무시하는 것)

- 허브는 들어온 데이터를 보내기만 하기 때문에 여러 컴퓨터가 동시에 데이터를 보내면 충돌(collision)이 일어날 수 있음. 그렇지만 이더넷의 구조로 인해 이러한 충돌이 발생하지 않음

  > 이더넷의 구조
  >
  > - 데이터가 동시에 케이블을 지나가게 하지 않도록 데이터를 보내는 시점을 늦춤
  > - 이 방법을 **CSMA/CD(Carrier Sense Multiple Access with Collision Detection, 반송파 감지 다중 접속 및 충돌 탐지)**라고 함
  >
  > CSMA/CD
  >
  > - CS: 데이터를 보내려는 컴퓨터가 케이블에 신호가 흐르고 있는지 아닌지 확인한다는 규칙
  > - MA: 케이블에 데이터가 흐르고 있지 않으면 데이터를 보내도 된다는 규칙
  > - CD: 충돌이 발생하고 있는지를 확인한다는 규칙

- 스위치를 사용하면 충돌이 일어나지 않기 때문에 CSMA/CD는 거의 쓰이지 않음(효율이 좋지 않아서)

### MAC 주소

- 랜 카드에 저장된 주소, 제조할 때 새겨짐(그래서 물리 주소라고도 함), 전 세계에서 유일한 번호로 할당됨(다른 MAC 주소와 중복되지 않음)

- 48비트의 숫자, 앞 24비트-랜 카드를 만든 제조사 번호, 뒤 24비트-제조사가 랜 카드에 붙인 일련번호

- OSI모델에서는 데이터 링크 계층에서, TCP/IP모델에서는 네트워크 계층에서 이더넷 헤더와 트레일러를 붙임

  - 이더넷 헤더: 목적지의 MAC 주소(6바이트) + 출발지의 MAC주소(6바이트) + 유형(2바이트) 총 14바이트로 구성

    > 이더넷 유형
    >
    > - 이더넷으로 전송되는 상위 계층 프로토콜의 종류
    >
    > | 유형 번호 |      프로토콜      |
    > | :-------: | :----------------: |
    > |   0800    |        IPv4        |
    > |   0806    |        ARP         |
    > |   8035    |        RARP        |
    > |   814C    | SNMP over Ethernet |
    > |   86DD    |        IPv6        |
    >
    > - 유형에 프로토콜 종류를 식별하는 번호가 들어간다는 점 기억

  - 트레일러(FCS, Frame Check Sequence): 데이터 전송 도중 오류 발생 여부를 확인하는 용도로 사용

- 이더넷 헤더와 트레일러가 추가된 데이터를 **프레임**이라고 함. 프레임이 물리계층으로 가 전기신호로 바뀌고 네트워크를 통해 전송되는 것

- 프레임이 전송되면 목적지 MAC 주소와 같은 주소를 가진 컴퓨터만 데이터를 수신하고 나머지는 데이터를 파기함

### 스위치

- 데이터 링크 계층에서 동작

- 레이어 2 스위치, 스위칭 허브라고도 불림

- 내부에 MAC 주소 테이블이 있음.

  > MAC 주소 테이블
  >
  > - 스위치 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 MAC 주소가 등록되는 데이터베이스

- 스위치 전원을 켰을 때는 MAC 주소에 등록된 데이터가 없음. 컴퓨터가 프레임을 보낼 때 출발지 MAC 주소가 테이블에 등록되어있지 않으면 포트와 함께 MAC 주소 등록 -> **MAC 주소 학습 기능**

- 가장 처음 데이터를 전송할 때는 전송하는 컴퓨터의 MAC 주소는 테이블에 등록되지만 아직 목적지의 MAC 주소는 등록되어있지 않으므로 다른 컴퓨터들에까지 데이터가 전송됨. 이를 **플러딩(flooding)**이라 함

- 목적지 주소가 등록되어있다면 다른 주소들이 등록되어있지 않아도 알아서 해당 주소지를 찾아가는데 이를 **MAC 주소 필터링**이라 함(MAC 주소를 기준으로 목적지를 선택하는 것. 근데 정리에서는 출발지를 선택하는 것이라 되어있는데 아마 목적지가 맞을 것)

- 그런데 또다시 등록되지 않은 컴퓨터로 프레임을 보내면 또 플러딩이 일어나고 이 때는 등록이 되어있는 컴퓨터에게도 데이터가 전송됨

**전이중 통신**

- 데이터의 송수신을 동시에 통신하는 방식
- 데이터를 동시에 전송해도 충돌 발생하지 않음
- 컴퓨터를 직접 연결할 때나 스위치를 이용할 때 이 방식이 사용됨(선을 네 쌍 사용하기 때문에)

**반이중 통신**

- 회선 하나로 송수신을 번갈아가며 통신하는 방식
- 데이터를 동시에 전송하면 충돌 발생
- 허브를 사용할 때 이 방식이 사용됨(따라서 충돌이 발생하고 네트워크 지연이 발생)

**충돌 도메인**

- 충돌이 일어날 때 영향이 미치는 범위
- 허브는 연결된 컴퓨터 전체가 충돌 도메인
- 스위치는 충돌 도메인이 좁음

[참고] **ARP(Address Resolution Protocol)**

- 목적 컴퓨터의 IP 주소를 이용해 MAC 주소를 찾기 위한 프로토콜
- 출발 컴퓨터가 목적지 주소를 모를 때 네트워크에 브로드캐스트 하는 것을 ARP 요청이라고 함. 지정된 IP 주소를 가진 컴퓨터는 MAC 주소를 응답으로보냄(ARP 응답)
- MAC 주소를 얻은 후 MAC 주소와 IP 주소 매핑 정보를 메모리에 보관하게 되는데 이 정보를 ARP 테이블이라고 함(이후 데이터 통신을 할 때 참고), IP가 바뀌면 제대로 통신할 수 없기 때문에(MAC 주소도 함께 바뀌어서) 테이블 보존 기간에 제한을 둠 
- 네트워크 계층 주소와 데이터 링크 계층 주소 사이 변환을 담당하는 프로토콜
- ARP 캐시: 가장 최근에 변환한 IP 대 하드웨어 주소를 보관하는 림의 한 영역

### 이더넷의 종류와 특징

- 이더넷 규격

| 규격 이름  | 통신 속도 | 케이블              | 케이블 최대 길이 | 표준화 연도 |
| ---------- | --------- | ------------------- | ---------------- | ----------- |
| 10BASE5    | 10Mbps    | 동축케이블          | 500m             | 1982년      |
| 10BASE2    | 10Mbps    | 동축케이블          | 185m             | 1988년      |
| 10BASE-T   | 10Mbps    | UTP케이블(Cat3이상) | 100m             | 1990년      |
| 100BASE-TX | 100Mbps   | UTP케이블(Cat5이상) | 100m             | 1995년      |
| 1000BASE-T | 1000Mbps  | UTP케이블(Cat5이상) | 100m             | 1999년      |
| 10GBASE-T  | 10Gbps    | UTP케이블(Cat6이상) | 100m             | 2006년      |

- 예) 10BASE-T: 10: 통신속도(Mbps 단위) / BASE: BASEBAND라는 전송방식 / T: 케이블 종류(하이픈 뒤는 케이블 길이 혹은 케이블 종류, 동축케이블은 케이블 최대 길이를 100미터 단위로 표시)
- 2018년 기준 1000BASE-T가 일반적
- [참고] 동축케이블: 한 가닥의 내부 도체를 절연체로 감싸고 주위에 동축 통상의 외부 도체를 감은 것[동축케이블의 종류](https://m.blog.naver.com/conu55/221994649815)(티비 케이블같이 동그랗게 생긴 케이블 생각하면 됨. 아날로그와 디지털 신호 모두를 전달 가능)



##  네트워크 계층

- 서로 다른 네트워크에 있는 목적지로 데이터를 전송하기 위해 필요

- 네트워크 간의 통신을 가능하게 하는 것이 역할

- 다른 네트워크로 데이터를 전송하기 위해 **라우터**라는 장비 필요

  > 가정이나 소규모 기업 용도로 만든 라우터가 인터넷 공유기
  >
  > 데이터의 목적지가 정해지면 해당 목적지까지 가는 경로를 결정
  >
  > => 목적지가 정해지지 않으면 경로를 설정할 수 없음

- 데이터의 목적지, 네트워크 식별 주소를 **IP 주소**라고 함

  > IP로 어떤 네트워크의 어떤 컴퓨터인지 구분 가능
  >
  > 이것이 있어야 목적지 지정 가능

- 목적지까지 가는 경로를 결정하는 것을 **라우팅**이라고 함

  > 라우팅은 라우터가 하는데 레이어 3 스위치라는 장비도 라우팅을 할 수 있음
  >
  > [L3 Switch 용어 사전](http://word.tta.or.kr/dictionary/dictionaryView.do?word_seq=047436-1)

- 라우터는 거리에 관계없이 다른 네트워크로 데이터를 보낼 수 있으며 **라우팅 테이블**을 통해 경로 정보를 관리

### IP

- 네트워크 계층의 대표적인 프로토콜

- 네트워크 계층에서는 데이터를 전송할 때 IP 헤더를 붙임(아래 순서대로)

  > 1. 버전(version)
  > 2. 헤더 길이(geader length)
  > 3. 서비스 유형(service type)
  > 4. 전체 패킷 길이(total length)
  > 5. ID(identification)
  > 6. 조각 상태(flags)
  > 7. 조각 위치(fragment offset)
  > 8. TTL(time to live, IP 패킷 전달에 대한 생존 시간, 라우터를 지날 때마다 1씩 감소)[TTL 설명](http://word.tta.or.kr/dictionary/dictionaryView.do?word_seq=051528-1)
  > 9. 프로토콜(protocol)
  > 10. 헤더 체크섬(header checksum)
  > 11. **출발지 IP 주소(source IP address)**
  > 12. **목적지 IP 주소(destination IP address)**

- IP 프로토콜을 사용하여 데이터에 IP 헤더를 추가해 캡슐화 한 것을 **IP 패킷**이라고 함

- *IP 주소:컴퓨터 네트워크에서 장치들이 서로 인식하고 통신하기위해 사용하는 주소*

### IP 주소의 구조

- ISP에게 받을 수 있음
- IPv4
  - 32비트로 약 43억개의 IP주소를 만들 수 있음. 하지만 이것만으로는 충분하지 않아서 IPv6를 사용하게 됨
- IPv6
  - 128비트로 되어 있음
  - IP주소 부족 문제를 해결

- 공인 IP 주소

  - ISP가 제공
  - IPv4는 주소 수가 고갈되고 있기 때문에 인터넷에 직접 연결되는 장치에는 공인 IP 주소를 할당, 회사 혹은 가정의 랜에 있는 장치는 사설 IP 주소를 할당

- IP 주소가 제한적이기 때문에(IPv4의 경우) 같은 랜 안에 여러 컴퓨터가 있다면 공인 IP 주소는 라우터에만 할당하고 컴퓨터들(나머지 장치)에는 랜의 네트워크 관리자가 사설 IP 주소를 할당하거나, 라우터의 DHCP 기능을 사용해 자동으로 주소 할당

  > [DHCP(Dynamic Host Configuration Protocol, 동적 호스트 설정 통신 규약)](http://word.tta.or.kr/dictionary/dictionaryView.do?word_seq=042069-1)
  >
  > - TCP/IP 통신을 위해 필요한 정보를 자동적으로 할당, 관리하기 위한 프로토콜

- MAC 주소는 48비트로 구분하기 쉽도록 16진수, IP주소는 32비트로 구분하기 쉽도록 10진수로 표기(8비트(옥텟) 단위로 나눠서 10진수로 표시, 8비트이기 때문에 0~255까지의 숫자)

- 표시는 10진수로 되어있지만 실제 IP 주소는 2진수로 되어있음

- IP 주소는 아래의 두 가지로 나뉨

  - 네트워크 ID
    - 어떤 네트워크인지를 나타냄
  - 호스트 ID
    - 해당 네트워크 내 어떤 컴퓨터인지 나타냄

> [참고]
>
> IPv6가 보급되면서 IoT 환경이 구축됨

### IP 주소 클래스

- IP(IPv4) 주소는 네트워크 ID나 호스트 ID의 크기를 조정해 네트워크 크기를 조정할 수 있음. 네트워크 크기는 **클래스** 개념으로 구분

**클래스 구분**

| 클래스 이름 |                             내용                             |
| :---------: | :----------------------------------------------------------: |
|  A 클래스   | 대규모 네트워크 주소, 처음 8비트가 네트워크 ID, 그 다음 24비트가 호스트 ID |
|  B 클래스   | 중형 네트워크 주소, 처음 16비트가 네트워크 ID, 다음 16비트가 호스트 ID |
|  C 클래스   | 소규모 네트워크 주소, 처음 24비트가 네트워크 ID, 다음 8비트가 호스트 ID |
|  D 클래스   | 멀티캐스트(multicast) 주소(멀티캐스트: 한 호스트에서 패킷을 여러 컴퓨터로 동시에 전송하는 것) |
|  E 클래스   |                    연구 및 특수용도 주소                     |

- 일반 네트워크는 A ~ C 클래스까지 사용 가능
- A 클래스의 1옥텟 범위: 00000001 ~ 01111111 -> 1 ~ 127 / 호스트 ID의 옥텟은 각각 0 ~ 255범위 따라서 IP 주소 전체 범위는 1.0.0.0 ~ 127.255.255.255(최대 호스트 수: 1677만 7214대)
- B 클래스의 1옥텟 범위: 10000000 ~ 10111111 -> 128 ~ 191 / 호스트 ID 옥텟은 A 클래스와 동일 따라서 IP 주소 전체 범위는 128.0.0.0 ~ 191.255.255.255(최대 호스트 수: 6만 5534대)
- C 클래스의 1옥텟 범위는 11000000 ~ 11011111 -> 192 ~ 223 / 호스트 ID 옥텟은 A 클래스와 동일 따라서 IP 주소 전체 범위는 192.0.0.0 ~ 223.255.255.255(최대 호스트 수: 254대)
- 공인 IP 주소의 범위와 사설 IP 주소의 범위가 각 클래스마다 다름

**공인 IP 주소 범위**

|   종류   |                      공인 IP 주소 범위                      |
| :------: | :---------------------------------------------------------: |
| A 클래스 |    1.0.0.0 ~ 9.255.255.255 / 11.0.0.0 ~ 126.255.255.255     |
| B 클래스 |  128.0.0.0 ~ 172.15.255.255 / 173.32.0.0 ~ 191.255.255.255  |
| C 클래스 | 192.0.0.0 ~ 192.167.255.255 / 192.169.0.0 ~ 223.255.255.255 |

**사설 IP 주소 범위(공인 IP 주소로 사용할 수 없음)**

|   종류   |        공인 IP 주소 범위        |
| :------: | :-----------------------------: |
| A 클래스 |    10.0.0.0 ~ 10.255.255.255    |
| B 클래스 |   172.16.0.0 ~ 172.31.255.255   |
| C 클래스 | 192.168.0.0. ~ 192.168.2255.255 |



### 네트워크 주소 / 브로드캐스트 주소

- 네트워크 주소

  - 호스트 ID가 10진수로 0(2진수로 00000000)인 주소
  - 전체 네트워크에서 작은 네트워크를 식별하는 데 사용되는 주소
  - 호스트 ID가 0이면 해당 네트워크를 대표하는 주소

  > 192.168.1.1 ~ 192.168.1.6까지 아이피주소를 가진 여섯대의 컴퓨터가 있으면 이 컴퓨터들은 192.168.1.0의 네트워크에 있다고 할 수 있음

- 브로트캐스트 주소

  - 호스트 ID가 10진수로 255인 주소
  - 네트워크에 있는 컴퓨터나 장비 모두에 한번에 데이터를 전송하는 데 사용되는 주소
  - 브로드캐스트 주소로 데이터를 전송하면 네트워크 안 모든 컴퓨터가 데이터를 받음

- 위의 두 주소는 개별적인 IP주소로 설정할 수 없음(설정하면 안 됨)



### 서브넷

- A 클래스의 최대 호스트 수는 1677만 7214대인데 브로드캐스트 패킷을 전송하면 모든 컴퓨터에 전송되고 네트워크가 혼잡해짐 이를 방지하는 것이 서브넷
- 대규모 네트워크를 작은 네트워크로 분할하여 전송되는 패킷의 범위를 좁힐 수 있음.
- 네트워크 분할을 **서브넷팅(subneting)**, 분할된 네트워크를 **서브넷**이라고 함
- 서브넷팅하면 기존 IP(네트워크 ID와 호스트 ID로 나뉨)가 **네트워크 ID, 서브넷 ID, 호스트 ID**로 나뉨(호스트 ID로 사용되던 비트의 일부를 서브넷 ID로 바꾸는 것)
  - 서브넷 ID: IP 주소의 네트워크 부분을 늘리기 위해 서브넷 마스크로 사용되는 비트
- **서브넷 마스크**
  - 서브넷팅하면 네트워크 ID와 호스트 ID의 경계가 불분명해질 수 있음. 이때 사용하는 값이 서브넷 마스크
  - 네트워크 ID와 호스트 ID를 식별하기 위한 값
  - A 클래스: 255.0.0.0(11111111|00000000|00000000|00000000) / B 클래스: 255.255.0.0 / C 클래스: 255.255.255.0
  - 프리픽스(prefix) 표기법: 슬래시/비트수로 나타낸 것. 예를 들어 A 클래스는 /8로 표시
  - 네트워크 ID(서브넷 ID 포함)와 호스트 ID를 확실히 구분하기 위한 것으로 보면 됨. 1이 연속적으로 나옴
  - 네트워크 부분만을 나타나게 하여 같은 네트워크인지를 판별하게 함
  - [서브넷 마스크 용어 사전](http://word.tta.or.kr/dictionary/dictionaryView.do?subject=%EB%B6%80%EB%B6%84%EB%A7%9D%20%EB%A7%88%EC%8A%A4%ED%81%AC)(별 내용 없음)
  - [서브넷 마스크 추가 정보](https://limkydev.tistory.com/166)



### 라우터

- 다른 네트워크로 패킷을 전송할 수 있게 해줌(서로 다른 네트워크를 연결)

- 라우터를 이용해 네트워크 분리 가능

- 스위치만 있는 네트워크에서는 모든 컴퓨터와 스위치가 동일한 네트워크에 속함(네트워크 분리 불가능)

- 네트워크 분리 후 다른 네트워크로 접속하는 방법

  - 컴퓨터가 분리된 다른 네트워크로 데이터를 전송하려면 라우터의 IP 주소를 설정해야 함(네트워크 출입구 설정, **기본 게이트웨이**(default cateway, 네트워크 외부에 접속할 때 사용))

    - 주소를 설정하는 이유는 네트워크가 나뉘어서 데이터 전송 목적지를 알지 못하기 때문. 따라서 네트워크 출입구를 지정하고 라우터에 데이터를 전송.
    - 인터넷 프로토콜 속성에 '자동으로 IP 주소 받기'가 체크되어 있으면 기본 게이트웨이가 자동으로 설정됨

  - 주소 설정 후 **라우팅**을 통해 데이터 전송

    > 라우팅: 경로 정보를 기반으로 최적의 경로를 통해 데이터를 전송. 데이터를 전송할 때 목적지까지 갈 수 있는 여러 경로 중 한 가지 경로를 설정해주는 과정

  - 경로 정보가 저장되어 있는 곳이 **라우팅 테이블**

    - [라우팅 테이블 추가 정보](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=dreamxpeed&logNo=221671823623)
    - 소규모 네트워크에는 수동으로 등록하는 방법이, 대규모 네트워크에는 자동으로 등록하는 방법이 적합(자동 등록은 정보 수정도 자동으로 해줌)
    - 라우팅 테이블은 다른 네트워크로 가기 위한 가장 좋은 라우터의 정보를 가짐

  - 라우터 간 라우팅 정보를 교환하기 위한 프로토콜을 **라우팅 프로토콜**이라고 함

    > RIP, OSPF, BGP 등이 있음
    >
    > [RIP, OSPF 추가 정보](https://corona-world.tistory.com/40)

